<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>星级评分DEMO</title>
  <link rel="stylesheet" href="../public/css/ST_admin.css"/>
  <style type="text/css">
    pre {
      background-color: #fff
    }
  </style>
  <script src="../public/js/jquery-min.js"></script>
  <script src="../public/js/ZeroClipboard/jquery.zclip.min.js"></script>
  <script src="../public/js/ST.Config.js"></script>
</head>
<body class="admin-frame">
<div id="_demo" class="m50">
  <table class="table table-listing table-striped">
    <tbody>
    <tr>
      <td class="right span4">星级评分 <a class="fn_trigger" data-source="_code0" data-cmd="showCode" href="" title="查看代码">[code]</a>
      </td>
      <td>
        <div id="_rating"></div>
        <input type="hidden" id="_rating_val" value="8"/>
<pre id="_code0" data-title="星级评分" style="display:none">
&lt;!--HTML部分--&gt;
&lt;div id="_rating"&gt;&lt;/div&gt;
&lt;input type="hidden" id="_rating_val" value="8"/&gt;

&lt;!--JS部分--&gt;
&lt;script src="__YOURPATH__/js/ST.Rating.js"&gt;&lt;/script&gt;
&lt;script&gt;
var $valIpt = $('#_rating_val');
/*
  默认配置
 {
    number: 5,                  //显示星星数
    total: 10,                  //总分
    score: '',                  //当前得分
    size: 23,                   //星星尺寸（单位px）
    half: false,                //是否允许半星
    className: 'rating',        //外观
    animate: false,             //是否使用动画效果
    duration: 300,              //动画时长
    template: 'common_rating'   //模板
  }
*/
//初始化插件
var rating = new ST.Rating('_rating', {
  score: parseInt($valIpt.val(), 10) || ''
});
//定义接口
rating.onSelected = function () {
  var that = this, score = that.getScore();
  $valIpt.val(score);
  alert('您给了'+score+'分!');
};
&lt;/script&gt;
</pre>
      </td>
    </tr>
    <tr>
      <td class="right span4">半星评分 <a class="fn_trigger" data-source="_code1" data-cmd="showCode" href="" title="查看代码">[code]</a>
      </td>
      <td>
        <div id="_rating1"></div>
        <input type="hidden" id="_rating_val1" value="8"/>
<pre id="_code1" data-title="半星评分" style="display:none">
&lt;!--HTML部分--&gt;
&lt;div id="_rating"&gt;&lt;/div&gt;
&lt;input type="hidden" id="_rating_val" value="8"/&gt;

&lt;!--JS部分--&gt;
&lt;script src="__YOURPATH__/js/ST.Rating.js"&gt;&lt;/script&gt;
&lt;script&gt;
var $valIpt = $('#_rating_val');
/*
  默认配置
 {
    number: 5,                  //显示星星数
    total: 10,                  //总分
    score: '',                  //当前得分
    size: 23,                   //星星尺寸（单位px）
    half: false,                //是否允许半星
    className: 'rating',        //外观
    animate: false,             //是否使用动画效果
    duration: 300,              //动画时长
    template: 'common_rating'   //模板
  }
*/
//初始化插件
var rating = new ST.Rating('_rating', {
  score: parseInt($valIpt.val(), 10) || '',
  <code>half:true</code>
});
//定义接口
rating.onSelected = function () {
  var that = this, score = that.getScore();
  $valIpt.val(score);
  alert('您给了'+score+'分!');
};
&lt;/script&gt;
</pre>
      </td>
    </tr>
    <tr>
      <td class="right span4">动画效果 <a class="fn_trigger" data-source="_code2" data-cmd="showCode" href="" title="查看代码">[code]</a>
      </td>
      <td>
        <div id="_rating2"></div>
        <input type="hidden" id="_rating_val2" value=""/>
        <input type="button" class="btn mt10" id="test_animate" value="设为4星"/>
<pre id="_code2" data-title="动画效果" style="display:none">
&lt;!--HTML部分--&gt;
&lt;div id="_rating"&gt;&lt;/div&gt;
&lt;input type="hidden" id="_rating_val" value=""/&gt;
&lt;input type="button" class="btn mt10" id="test_animate" value="设为4星"/&gt;

&lt;!--JS部分--&gt;
&lt;script src="__YOURPATH__/js/ST.Rating.js"&gt;&lt;/script&gt;
&lt;script&gt;
var $valIpt = $('#_rating_val');
/*
  默认配置
 {
    number: 5,                  //显示星星数
    total: 10,                  //总分
    score: '',                  //当前得分
    size: 23,                   //星星尺寸（单位px）
    half: false,                //是否允许半星
    className: 'rating',        //外观
    animate: false,             //是否使用动画效果
    duration: 300,              //动画时长
    template: 'common_rating'   //模板
  }
*/
//初始化插件
var rating = new ST.Rating('_rating', {
  score: parseInt($valIpt.val(), 10) || '',
  <code>animate:true</code>
});
//定义接口
rating.onSelected = function () {
  var that = this, score = that.getScore();
  $valIpt.val(score);
  alert('您给了'+score+'分!');
};
//测试动画效果
$('#test_animate').on('click',function(){
  rating2.setScore(8);
});
&lt;/script&gt;
</pre>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<script src="../public/js/doc/prettify.js"></script>
<script src="../public/js/ST_dev.js"></script>
<script src="../public/js/ST.Rating.js"></script>
<script src="../public/js/demo/demo.js"></script>
<script type="text/javascript">
  ST.jsTemplates.push('common');
  $.extend(ST, {
    todoList: function () {
      //0
      var $valIpt = $('#_rating_val');
      var rating = new ST.Rating('_rating', {
        score: parseInt($valIpt.val(), 10) || ''
      });
      rating.onSelected = function () {
        var that = this, score = that.getScore();
        $valIpt.val(score);
        alert('您给了'+score+'分!');
      };
      //1
      var $valIpt1 = $('#_rating_val1');
      var rating1 = new ST.Rating('_rating1', {
        score: parseInt($valIpt1.val(), 10) || '',
        half: true
      });
      rating1.onSelected = function () {
        var that = this, score = that.getScore();
        $valIpt1.val(score);
        alert('您给了'+score+'分!');
      };
      //2
      var $valIpt2 = $('#_rating_val2');
      var rating2 = new ST.Rating('_rating2', {
        score: parseInt($valIpt2.val(), 10) || '',
        animate: true
      });
      rating2.onSelected = function () {
        var that = this, score = that.getScore();
        $valIpt2.val(score);
      };
      $('#test_animate').on('click',function(){
        rating2.setScore(8);
      });
    }
  });
  ST.init();
</script>
</body>
</html>