<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>下拉框DEMO</title>
  <link rel="stylesheet" href="../public/css/ST_admin.css"/>
  <style type="text/css">
    pre {
      background-color: #fff
    }
  </style>
  <script src="../public/js/jquery-min.js"></script>
  <script src="../public/js/ZeroClipboard/jquery.zclip.min.js"></script>
  <script src="../public/js/ST.Config.js"></script>
</head>
<body class="admin-frame">
<div id="_demo" class="m50">
  <table class="table table-listing table-striped">
    <tbody>
    <tr>
      <td class="right span4">下拉框 <a class="fn_trigger" data-source="_code0" data-cmd="showCode" href="" title="查看代码">[code]</a></td>
      <td>
        <div class="dropdown" id="_ddlist">
          <a class="dropdown-toggle" href="javascript:;">
            <span class="dropdown-label" id="_ddlist_lab">---请选择---</span>
            <span class="dropdown-arrow"><i class="icon i-chevron-down"></i></span>
          </a>
          <input type="hidden" value="" id="_ddlist_val"/>
        </div>
        <pre id="_code0" data-title="下拉框" style="display:none">
&lt;!--HTML部分--&gt;
&lt;div class="dropdown" <code>id="_ddlist"</code>&gt;
  &lt;a class="dropdown-toggle" href="javascript:;"&gt;
    &lt;!--显示文字：id为目标容器id+'_lab'--&gt;
    &lt;span class="dropdown-label" <code>id="_ddlist_lab"</code>&gt;---请选择---&lt;/span&gt;
    &lt;span class="dropdown-arrow"&gt;&lt;i class="icon i-chevron-down"&gt;&lt;/i&gt;&lt;/span&gt;
  &lt;/a&gt;
  &lt;!--值INPUT：id为目标容器id+'_val'--&gt;
  &lt;input type="hidden" value="" <code>id="_ddlist_val"</code>/&gt;
&lt;/div&gt;

&lt;!--JS部分--&gt;
&lt;script&gt;
//定义数据源
var _data = [{text:'一',value:'1'},{text:'二',value:'2'},{text:'三',value:'3'}];
//参数：容器id，数据源，回调方法（@par 选中项）
ST.ddList('_ddlist',_data,function(o){
  alert('您选择了：'+ o.text);
});
&lt;/script&gt;
        </pre>
      </td>
    </tr>
    <tr>
      <td class="right span4">默认选择第一项<a class="fn_trigger" data-source="_code1" data-cmd="showCode" href="" title="查看代码">[code]</a></td>
      <td>
        <div class="dropdown" id="_ddlist1">
          <a class="dropdown-toggle" href="javascript:;">
            <span class="dropdown-label" id="_ddlist1_lab">---请选择---</span>
            <span class="dropdown-arrow"><i class="icon i-chevron-down"></i></span>
          </a>
          <input type="hidden" value="" id="_ddlist1_val"/>
        </div>
        <pre id="_code1" data-title="默认选择第一项" style="display:none">
&lt;!--HTML部分--&gt;
&lt;div class="dropdown" <code>id="_ddlist"</code>&gt;
  &lt;a class="dropdown-toggle" href="javascript:;"&gt;
    &lt;!--显示文字：id为目标容器id+'_lab'--&gt;
    &lt;span class="dropdown-label" <code>id="_ddlist_lab"</code>&gt;---请选择---&lt;/span&gt;
    &lt;span class="dropdown-arrow"&gt;&lt;i class="icon i-chevron-down"&gt;&lt;/i&gt;&lt;/span&gt;
  &lt;/a&gt;
  &lt;!--值INPUT：id为目标容器id+'_val'--&gt;
  &lt;input type="hidden" value="" <code>id="_ddlist_val"</code>/&gt;
&lt;/div&gt;

&lt;!--JS部分--&gt;
&lt;script&gt;
//定义数据源
var _data = [{text:'一',value:'1'},{text:'二',value:'2'},{text:'三',value:'3'}];
//参数：容器id，数据源，回调方法（@par 选中项）
var _ddlist = ST.ddList('_ddlist',_data,function(o){

});
//或_ddlist.selByText(_ddlist.data[0].text);
_ddlist.selByValue(_ddlist.data[0].value);
&lt;/script&gt;
        </pre>
      </td>
    </tr>
    <tr>
      <td class="right span4">使用select数据源 <a class="fn_trigger" data-source="_code2" data-cmd="showCode" href="" title="查看代码">[code]</a></td>
      <td>
        <div class="dropdown" id="_ddlist2">
          <select style="display: none">
            <option value="1">选项1</option>
            <option value="2">选项2</option>
            <option value="3">选项3</option>
          </select>
          <a class="dropdown-toggle" href="javascript:;">
            <span class="dropdown-label" id="_ddlist2_lab">---请选择---</span>
            <span class="dropdown-arrow"><i class="icon i-chevron-down"></i></span>
          </a>
          <input type="hidden" value="" id="_ddlist2_val"/>
        </div>
        <pre id="_code2" data-title="使用select数据源" style="display:none">
&lt;!--HTML部分--&gt;
&lt;div class="dropdown" <code>id="_ddlist"</code>&gt;
  &lt;select id="_ddlist_datasource"&gt;
    &lt;option value="1"&gt;选项1&lt;/option&gt;
    &lt;option value="2"&gt;选项2lt;/option&gt;
    &lt;option value="3"&gt;选项3&lt;/option&gt;
  &lt;/select&gt;
  &lt;a class="dropdown-toggle" href="javascript:;"&gt;
    &lt;!--显示文字：id为目标容器id+'_lab'--&gt;
    &lt;span class="dropdown-label" <code>id="_ddlist_lab"</code>&gt;---请选择---&lt;/span&gt;
    &lt;span class="dropdown-arrow"&gt;&lt;i class="icon i-chevron-down"&gt;&lt;/i&gt;&lt;/span&gt;
  &lt;/a&gt;
  &lt;!--值INPUT：id为目标容器id+'_val'--&gt;
  &lt;input type="hidden" value="" <code>id="_ddlist_val"</code>/&gt;
&lt;/div&gt;

&lt;!--JS部分--&gt;
&lt;script&gt
&lt;script src="__YOURPATH__/js/common.js"&gt;&lt;/script&gt;
//参数：容器id，数据源，回调方法（@par 选中项）
ST.ddList('_ddlist','',function(o){
  alert('您选择了：'+ o.text);
});
&lt;/script&gt;
        </pre>
      </td>
    </tr>
    <tr>
      <td class="right span4">两级联动<a class="fn_trigger" data-source="_code3" data-cmd="showCode" href="" title="查看代码">[code]</a></td>
      <td>
        <div class="dropdown" id="_ddlist_p">
          <a class="dropdown-toggle" href="javascript:;">
            <span class="dropdown-label" id="_ddlist_p_lab">---请选择---</span>
            <span class="dropdown-arrow"><i class="icon i-chevron-down"></i></span>
          </a>
          <input type="hidden" value="" id="_ddlist_p_val"/>
        </div>
        <div class="dropdown" id="_ddlist_c">
          <a class="dropdown-toggle" href="javascript:;">
            <span class="dropdown-label" id="_ddlist_c_lab">---请选择---</span>
            <span class="dropdown-arrow"><i class="icon i-chevron-down"></i></span>
          </a>
          <input type="hidden" value="" id="_ddlist_c_val"/>
        </div>
        <pre id="_code3" data-title="两级联动" style="display:none">
&lt;!--HTML部分--&gt;
&lt;div class="dropdown" <code>id="_ddlist_p"</code>&gt;
  &lt;a class="dropdown-toggle" href="javascript:;"&gt;
    &lt;!--显示文字：id为目标容器id+'_lab'--&gt;
    &lt;span class="dropdown-label" <code>id="_ddlist_p_lab"</code>&gt;---请选择---&lt;/span&gt;
    &lt;span class="dropdown-arrow"&gt;&lt;i class="icon i-chevron-down"&gt;&lt;/i&gt;&lt;/span&gt;
  &lt;/a&gt;
  &lt;!--值INPUT：id为目标容器id+'_val'--&gt;
  &lt;&lt;input type="hidden" value="" <code>id="_ddlist_p_val"</code>/&gt;
&lt;/div&gt;
&lt;div class="dropdown" <code>id="_ddlist_c"</code>&gt;
  &lt;a class="dropdown-toggle" href="javascript:;"&gt;
    &lt;!--显示文字：id为目标容器id+'_lab'--&gt;
    &lt;span class="dropdown-label" <code>id="_ddlist_c_lab"</code>&gt;---请选择---&lt;/span&gt;
    &lt;span class="dropdown-arrow"&gt;&lt;i class="icon i-chevron-down"&gt;&lt;/i&gt;&lt;/span&gt;
  &lt;/a&gt;
  &lt;!--值INPUT：id为目标容器id+'_val'--&gt;
  &lt;input type="hidden" value="" <code>id="_ddlist_c_val"</code>/&gt;
&lt;/div&gt;

&lt;!--JS部分--&gt;
&lt;script src="__YOURPATH__/js/common.js"&gt;&lt;/script&gt;
&lt;script&gt;
var ddlData={
  'p': [{text: '一级分类1', value: '1'},{text: '一级分类2', value: '2'},{text: '一级分类3', value: '3'}],
  'c': {'1': [{text: '属于一级分类1（1）', value: '1'},{text: '属于一级分类1（2）', value: '2'}],'2': [{text: '属于一级分类2（1）', value: "1"}],'3': [{text: '属于一级分类3（1）', value: "1"}]}
};
ST.ddList2({
  pid: '_ddlist_p', //父id
  cid: '_ddlist_c', //子id
  pdata: ddlData.p, //父数据
  cdata: ddlData.c, //子数据
  pfn: '',          //父选中回调
  cfn: ''           //子选中回调
});
&lt;/script&gt;
        </pre>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<script src="../public/js/doc/prettify.js"></script>
<script src="../public/js/ST_dev.js"></script>
<script src="../public/js/common.js"></script>
<script src="../public/js/demo/demo.js"></script>
<script type="text/javascript">
  ST.jsTemplates.push('common');
  $.extend(ST, {
    _data:[{text:'一',value:'1'},{text:'二',value:'2'},{text:'三',value:'3'}],
    ddlData:{
      'p': [
        {text: '一级分类1', value: '1'},
        {text: '一级分类2', value: '2'},
        {text: '一级分类3', value: '3'}
      ],
      'c': {
        '1': [{text: '属于一级分类1（1）', value: '1'},{text: '属于一级分类1（2）', value: '2'}],
        '2': [{text: '属于一级分类2（1）', value: "1"}],
        '3': [{text: '属于一级分类3（1）', value: "1"}]
      }
    },
    todoList: function () {
      //1
      ST.ddList('_ddlist',ST._data,function(o){
        alert('您选择了：'+ o.text);
      });
      //2
      var _ddlist = ST.ddList('_ddlist1',ST._data);
      _ddlist.selByValue(_ddlist.data[0].value);
      //3
      ST.ddList('_ddlist2','',function(o){
        alert('您选择了：'+ o.text);
      });
      //4
      ST.ddList2();
    }
  });
  ST.init();
</script>
</body>
</html>